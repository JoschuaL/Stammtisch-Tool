<form [formGroup]="reportForm" (ngSubmit)="submitReport(reportForm.value)" *ngIf="location && location !== ''">

    <ion-grid>
        <ion-row class="ion-justify-content-between">
            <ion-col size-sm="4" size-xs="12">
                <ion-item color="tertiary">
                    <ion-label>Date</ion-label>
                    <ion-datetime displayFormat="DD.MM.YYYY" formControlName="date"></ion-datetime>
                </ion-item>
            </ion-col>

            <ion-col size-sm="4" size-xs="6">
                <ion-item color="tertiary">
                    <ion-label>Start Time</ion-label>
                    <ion-datetime displayFormat="HH:mm" formControlName="startTime"></ion-datetime>
                </ion-item>
            </ion-col>

            <ion-col size-sm="4" size-xs="6">
                <ion-item color="tertiary">
                    <ion-label>End Time</ion-label>
                    <ion-datetime displayFormat="HH:mm" formControlName="endTime"></ion-datetime>
                </ion-item>
            </ion-col>
        </ion-row>

        <ion-row>
            <ion-col offset-sm="2" offset-xs="3" class="title">Male:</ion-col>
            <ion-col class="title">Female:</ion-col>
            <ion-col class="title">Diverse:</ion-col>
        </ion-row>

        <ion-row>
            <ion-col size-sm="2" size-xs="3">
                <ion-label>
                    Organisers:
                </ion-label>
            </ion-col>
            <ion-col>
                <ion-item>
                    <ion-input type="number" formControlName="organisersM" min="0" max="5"></ion-input>
                </ion-item>
            </ion-col>
            <ion-col>
                <ion-item>
                    <ion-input type="number" formControlName="organisersF" min="0" max="5"></ion-input>
                </ion-item>
            </ion-col>
            <ion-col>
                <ion-item>
                    <ion-input type="number" formControlName="organisersX" min="0" max="5"></ion-input>
                </ion-item>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col size-sm="2" size-xs="3">
                <ion-label>
                    Regular Attendees:
                </ion-label>
            </ion-col>
            <ion-col>
                <ion-item>
                    <ion-input type="number" formControlName="regularAttendeesM" min="0"></ion-input>
                </ion-item>
            </ion-col>
            <ion-col>
                <ion-item>
                    <ion-input type="number" formControlName="regularAttendeesF" min="0"></ion-input>
                </ion-item>
            </ion-col>
            <ion-col>
                <ion-item>
                    <ion-input type="number" formControlName="regularAttendeesX" min="0"></ion-input>
                </ion-item>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col size-sm="2" size-xs="3">
                <ion-label>
                    New Attendees:
                </ion-label>
            </ion-col>
            <ion-col>
                <ion-item>
                    <ion-input type="number" formControlName="newAttendeesM" min="0"></ion-input>
                </ion-item>
            </ion-col>
            <ion-col>
                <ion-item>
                    <ion-input type="number" formControlName="newAttendeesF" min="0"></ion-input>
                </ion-item>
            </ion-col>
            <ion-col>
                <ion-item>
                    <ion-input type="number" formControlName="newAttendeesX" min="0"></ion-input>
                </ion-item>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col>
                <ion-label>
                    Topics:
                </ion-label>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col>
                <ion-item>
                    <ion-textarea spellcheck="true" autoGrow="true" type="text" maxlength="200"
                                  formControlName="topics">
                    </ion-textarea>
                </ion-item>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col>
                <ion-label>
                    Notes:
                </ion-label>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col>
                <ion-item>
                    <ion-textarea spellcheck="true" autoGrow="true" type="text" maxlength="1000"
                                  formControlName="notes">
                    </ion-textarea>
                </ion-item>
            </ion-col>
        </ion-row>
        <ng-container *ngFor="let control of controls">
            <ion-row *ngIf="control[1].invalid && reportForm.touched">
                <ion-col>
                    <ion-label color="danger">
                        {{control[0] | controlError}}
                    </ion-label>
                </ion-col>
            </ion-row>
        </ng-container>
        <ion-row>
            <ion-col>
                <ion-button fill="solid" type="reset" color="danger" size="large" (click)="clearForm()">
                    Reset
                </ion-button>
            </ion-col>
            <ion-col>
                <ion-button color="success" fill="solid" size="large" class="ion-float-right" type="submit"
                            [disabled]="reportForm.invalid">
                    Submit
                </ion-button>
            </ion-col>

        </ion-row>


    </ion-grid>
</form>
